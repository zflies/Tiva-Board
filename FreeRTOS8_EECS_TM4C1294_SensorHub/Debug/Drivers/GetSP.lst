TI ARM Assembler PC v5.1.7 Tue Sep 16 08:38:44 2014

Tools Copyright (c) 1996-2014 Texas Instruments Incorporated
../Drivers/GetSP.asm                                                 PAGE    1

       1                    ;;*****************************************************************************
       2                    ;;
       3                    ;;      Assembly language subroutine
       4                    ;;
       5                    ;;              Author:                 Gary J. Minden
       6                    ;;              Organization:   KU/EECS/EECS 388
       7                    ;;              Date:                   2014-04-18
       8                    ;;              Version:                1.0
       9                    ;;
      10                    ;;              Purpose:                Return current stack pointer
      11                    ;;
      12                    ;;              Notes:
      13                    ;;
      14                    ;;*****************************************************************************
      15                    ;;
      16                    ;;
      17                    ;;      This subroutine returns the current SP
      18                    ;;      The result is returned in R0.
      19                    ;;
      20                    
      21                    ;;      Declare sections and external references
      22                    
      23                                    .global         GetSP                           ; Declare entry point as a global symb
      24                    
      25                    ;;      No constant data
      26                    
      27                    ;;      No variable allocation
      28                    
      29                    ;;      Program instructions
      30                    
      31 00000000                           .text                                                           ; Program section
      32                    
      33 00000000           GetSP:                                                                  ; Entry point
      34                    
      35                    ;;
      36                    ;;      Save necessary registers
      37                    ;;
      38                    ;;      Since this subroutine does not use registers other than R0 - R3,
      39                    ;;        and we do not call another subroutine, we don't need to save
      40                    ;;        any registers.
      41                    ;;
      42                    ;;      Allocate local variables on the Stack
      43                    ;;
      44                    ;;      Since this subroutine does not have local variables,
      45                    ;;        no Stack space need be allocated.
      46                    ;;
      47                    ;;      Return the current SP
      48                    ;;
      49 00000000 4668                      MOV             R0,SP ; [ORIG 16-BIT INS]
      50                    ;;
      51                    ;;      Return from the subroutine with the result in R0
      52                    ;;
      53 00000002 4770                      BX                      LR                              ; Branch to the program addres
      54                    
      55                                    .end
TI ARM Assembler PC v5.1.7 Tue Sep 16 08:38:44 2014

Tools Copyright (c) 1996-2014 Texas Instruments Incorporated
../Drivers/GetSP.asm                                                 PAGE    2


No Assembly Errors, No Assembly Warnings
